# Default config for sway
#
# Copy this to ~/.config/sway/config and edit it to your liking.
#
# Read `man 5 sway` for a complete reference.

### Variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term kitty 
set $menu dmenu_path | wmenu | xargs swaymsg exec --

include /etc/sway/config-vars.d/*

### Output configuration
default_border pixel 2
default_floating_border pixel 2
smart_borders on

for_window [title=".*"] title_format ""

gaps inner 2 
gaps outer 2 
smart_gaps on

client.focused          #77dd77 #1e1e2e #ffffff #77dd77
client.focused_inactive #2a2a2a #1e1e2e #888888 #2a2a2a
client.unfocused        #1a1a1a #1e1e2e #666666 #1a1a1a
client.urgent           #ff5555 #1e1e2e #ffffff #ff5555

default_border pixel 2
default_floating_border pixel 2

for_window [title=".*"] border pixel 2
for_window [title=".*"] title_format ""
for_window [app_id=".*"] title_format ""

default_border none
default_floating_border none

output * bg /home/juanes/Pictures/one.jpg fill

### >>> AGREGADO <<< AUTOSTART ESENCIAL
# ðŸ”§ FIX CRÃTICO PARA VLC / AUDIO / WAYLAND
exec_always dbus-update-activation-environment --systemd \
    WAYLAND_DISPLAY \
    XDG_RUNTIME_DIR \
    XDG_CURRENT_DESKTOP=sway

# ðŸ”Š Asegurar audio (PipeWire + Pulse)
exec_always systemctl --user enable --now pipewire pipewire-pulse

exec_always nm-applet
exec_always mako
exec_always wl-paste --watch cliphist store
exec_always /usr/lib/polkit-kde-authentication-agent-1

# ðŸŽ¬ VLC forzado a X11 (CLAVE)
set $vlc env GDK_BACKEND=x11 QT_QPA_PLATFORM=xcb vlc

### Key bindings
bindsym $mod+Return exec $term
bindsym $mod+q kill
floating_modifier $mod normal
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'


## APLICACIONES
bindsym $mod+b exec brave-browser
bindsym $mod+x exec ~/.config/obsidian-script/start.sh 
bindsym $mod+z exec flatpak run us.zoom.Zoom
bindsym $mod+w exec gtk-launch WebApp-whatsapp5456
bindsym $mod+e exec nemo 
bindsym $mod+d exec brave-browser --app=https://drive.google.com/drive/my-drive 
bindsym Mod1+space exec wofi --show drun
bindsym $mod+o exec flatpak run md.obsidian.Obsidian 
bindsym $mod+t exec flatpak run org.telegram.desktop

# â–¶ï¸ Lanzar VLC correctamente
bindsym $mod+v exec $vlc


### Focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

### Move
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

### Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

### WORKSPACES CON EL HOMEROW CON ALTGR MOD5
bindsym Mod5+a workspace number 1
bindsym Mod5+s workspace number 2
bindsym Mod5+d workspace number 3
bindsym Mod5+f workspace number 4
bindsym Mod5+g workspace number 5
bindsym Mod5+h workspace number 6
bindsym Mod5+j workspace number 7
bindsym Mod5+k workspace number 8
bindsym Mod5+l workspace number 9

bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

### Layout
bindsym Mod1+Shift+h splith
bindsym Mod1+Shift+v splitv
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent

### Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

### Resize
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

exec_always ~/.config/sway/scripts/waybar.sh
include /etc/sway/config.d/*

### KEYBOARD
input * {
    xkb_layout latam
}

### VOLUMEN
bindsym Ctrl+Shift+Right exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym Ctrl+Shift+Left  exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym Ctrl+Shift+m exec pactl set-sink-mute @DEFAULT_SINK@ toggle

### BRILLO
bindsym Ctrl+Shift+Up   exec brightnessctl set +2%
bindsym Ctrl+Shift+Down exec brightnessctl set 2%-

### LUZ NOCTURNA
exec_always gammastep -O 3500

### LOCK / LOGOUT
bindsym Ctrl+Shift+l exec swaylock
bindsym Ctrl+Shift+e exec wlogout

### SCREENSHOTS
bindsym Print exec grim ~/Pictures/screenshot.png
bindsym Shift+Print exec grim -g "$(slurp)" ~/Pictures/screenshot.png
bindsym Ctrl+Print exec grim - | wl-copy
bindsym Ctrl+Shift+Print exec grim -g "$(slurp)" - | wl-copy

### NOTIFICACIONES
exec_always mako

### TRACKPAD (touchpad laptop)
input type:touchpad {
    tap enabled
    tap_button_map lrm
    natural_scroll enabled
    scroll_method two_finger
    dwt enabled
    middle_emulation enabled
    accel_profile adaptive
    pointer_accel 0.2
}

